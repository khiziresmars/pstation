@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
:root {
  --safe-area-inset-top: env(safe-area-inset-top);
  --safe-area-inset-bottom: env(safe-area-inset-bottom);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

html, body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  background-color: var(--tg-theme-bg-color, #ffffff);
  color: var(--tg-theme-text-color, #000000);
  min-height: 100vh;
  overflow-x: hidden;
}

#root {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Scrollbar styles */
::-webkit-scrollbar {
  width: 4px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--tg-theme-hint-color, #cccccc);
  border-radius: 4px;
}

/* Custom utilities */
@layer utilities {
  .safe-top {
    padding-top: var(--safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: var(--safe-area-inset-bottom);
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* Component styles */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium
           transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-tg-button text-tg-button-text;
  }

  .btn-secondary {
    @apply btn bg-tg-secondary-bg text-tg-text;
  }

  .btn-outline {
    @apply btn border border-tg-button text-tg-button bg-transparent;
  }

  .card {
    @apply bg-tg-section-bg rounded-xl shadow-sm overflow-hidden;
  }

  .input {
    @apply w-full px-4 py-3 bg-tg-secondary-bg rounded-lg text-tg-text
           placeholder:text-tg-hint border-none outline-none
           focus:ring-2 focus:ring-tg-button focus:ring-opacity-30 transition-all;
  }

  .skeleton {
    @apply bg-tg-secondary-bg animate-pulse rounded;
  }

  .section-title {
    @apply text-lg font-semibold text-tg-text mb-3;
  }

  .price-tag {
    @apply text-lg font-bold text-tg-accent-text;
  }

  .badge {
    @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply badge text-tg-button;
    background-color: var(--tg-theme-button-color, #3390ec);
    background-color: color-mix(in srgb, var(--tg-theme-button-color, #3390ec) 10%, transparent);
  }

  .badge-success {
    @apply badge bg-green-100 text-green-700;
  }

  .badge-warning {
    @apply badge bg-yellow-100 text-yellow-700;
  }

  .divider {
    @apply h-px bg-tg-secondary-bg my-4;
  }
}

/* Swiper custom styles */
.swiper-pagination-bullet {
  background: var(--tg-theme-hint-color, #cccccc) !important;
  opacity: 0.5 !important;
}

.swiper-pagination-bullet-active {
  background: var(--tg-theme-button-color, #0891b2) !important;
  opacity: 1 !important;
}

/* Animation classes */
.fade-in {
  animation: fadeIn 0.3s ease-out;
}

.slide-up {
  animation: slideUp 0.3s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Loading states */
.loading-dots::after {
  content: '';
  animation: loadingDots 1.5s infinite;
}

@keyframes loadingDots {
  0%, 20% { content: '.'; }
  40% { content: '..'; }
  60%, 100% { content: '...'; }
}
